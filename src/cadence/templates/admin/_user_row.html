<tr id="user-row-{{ user['username'] }}">
    <td>{{ user['username'] }}</td>
    <td>{{ user['display_name'] or '-' }}</td>
    <td>
        {% if user['is_admin'] %}
        <span class="status-badge status-complete">Yes</span>
        {% else %}
        <span class="status-badge status-on-hold">No</span>
        {% endif %}
    </td>
    <td class="user-actions">
        {% if user['username'] != g.user.username %}
        <form method="POST"
              action="{{ url_for('admin.toggle_admin', username=user['username']) }}"
              hx-post="{{ url_for('admin.toggle_admin', username=user['username']) }}"
              hx-target="#user-row-{{ user['username'] }}"
              hx-swap="outerHTML">
            <button type="submit" class="outline small">
                {{ 'Revoke Admin' if user['is_admin'] else 'Grant Admin' }}
            </button>
        </form>
        {% else %}
        <small class="muted">(current user)</small>
        {% endif %}
    </td>
</tr>
