# Cadence - Production Configuration Example
#
# Copy to instance/config.ini and configure for your environment
# All paths are relative to the project root unless absolute

[server]
# REQUIRED: Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY = CHANGE_ME_GENERATE_A_SECURE_KEY

# Server binding (inside container)
HOST = 0.0.0.0
PORT = 5000

# Disable debug in production
DEBUG = False

[database]
# SQLite database path (inside container volume)
PATH = instance/cadence.sqlite3

[mail]
# REQUIRED: SMTP settings for magic link authentication
SMTP_SERVER = smtp.example.com
SMTP_PORT = 587
SMTP_USE_TLS = true
SMTP_USERNAME = your-smtp-username
SMTP_PASSWORD = your-smtp-password
MAIL_SENDER = cadence@example.com

[ntfy]
# Push notification server (use ntfy.sh or self-hosted)
SERVER = https://ntfy.sh
# For self-hosted: SERVER = http://ntfy:80

[uploads]
# Maximum file upload size in MB
MAX_SIZE_MB = 10

[blobs]
# File attachment storage directory
DIRECTORY = instance/blobs

[backups]
# Database backup storage directory
DIRECTORY = instance/backups

[auth]
# Magic link expiry (seconds) - 1 hour default
MAGIC_LINK_EXPIRY_SECONDS = 3600

# Trusted device session duration (days)
TRUSTED_SESSION_DAYS = 365

[comments]
# Comment edit window (seconds) - 5 minutes default
EDIT_WINDOW_SECONDS = 300

[proxy]
# REQUIRED when running behind Caddy/nginx reverse proxy
# Trust X-Forwarded-* headers from proxy
X_FORWARDED_FOR = 1
X_FORWARDED_PROTO = 1
X_FORWARDED_HOST = 1
X_FORWARDED_PREFIX = 0

[worker]
# Notification worker settings
POLL_INTERVAL = 5
BATCH_SIZE = 50
MAX_RETRIES = 3

# Optional: Application URL for notification links
# APP_URL = https://cadence.example.com
